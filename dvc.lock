schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: data/external/fraudTest.csv
      hash: md5
      md5: 692357a2589a1a6fcd44f14b3e1f9d2c
      size: 150354339
    - path: data/external/fraudTrain.csv
      hash: md5
      md5: 9723893e5492dc0551036edcf596e284
      size: 351238196
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 054b8cd307ee05736e18c5acc3e212cc
      size: 2498
    outs:
    - path: data/raw/test.csv
      hash: md5
      md5: 0ee3c86fa2fb88e77c1a7f780fa2bd60
      size: 148954728
    - path: data/raw/train.csv
      hash: md5
      md5: 3f43d5a6aab3b5d0b5bc2676e3626496
      size: 347981313
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 0ee3c86fa2fb88e77c1a7f780fa2bd60
      size: 148954728
    - path: data/raw/train.csv
      hash: md5
      md5: 3f43d5a6aab3b5d0b5bc2676e3626496
      size: 347981313
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: ea46c52676f4be5b47922794a236a9e8
      size: 3708
    outs:
    - path: data/interim/test_cleaned.csv
      hash: md5
      md5: 452a809921a689e9ab409746ec083e24
      size: 138241923
    - path: data/interim/train_cleaned.csv
      hash: md5
      md5: 13f5d828545225b0154087ef8f136908
      size: 323018750
  feature_engineering:
    cmd: python src/features/run_feature_engineering.py
    deps:
    - path: data/interim/test_cleaned.csv
      hash: md5
      md5: 452a809921a689e9ab409746ec083e24
      size: 138241923
    - path: data/interim/train_cleaned.csv
      hash: md5
      md5: 13f5d828545225b0154087ef8f136908
      size: 323018750
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 95b09395729fd72bb404c75faec9ec95
      size: 4685
    - path: src/features/run_feature_engineering.py
      hash: md5
      md5: 19d6992e8ec3093aa510d3f5776db7d6
      size: 2185
    outs:
    - path: data/processed/test_features_v1.csv
      hash: md5
      md5: a2c32c5b83ce22eb79c35b8eb4ad7915
      size: 338290428
    - path: data/processed/train_features_v1.csv
      hash: md5
      md5: 1c2e32537116761afec82c76d7d61b4d
      size: 791891583
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/processed/train_features_v1.csv
      hash: md5
      md5: 1c2e32537116761afec82c76d7d61b4d
      size: 791891583
    - path: src/model/model_building.py
      hash: md5
      md5: 74f20b913ff071fbad49409626c73c84
      size: 4806
    outs:
    - path: models/fraudguard_lightgbm/categorical_cols.json
      hash: md5
      md5: df47538071427c6b9b19b23c6a062314
      size: 115
    - path: models/fraudguard_lightgbm/feature_columns.json
      hash: md5
      md5: 9d435e5a94f847990b766e84d6d0205d
      size: 873
    - path: models/fraudguard_lightgbm/model.pkl
      hash: md5
      md5: e8013ba0319bd60ab3891f954c60267e
      size: 96378900
    - path: reports/shap/shap_global_importance.csv
      hash: md5
      md5: 7819d3f18869adc78d87425cb96f98d7
      size: 1520
    - path: reports/shap/shap_summary.png
      hash: md5
      md5: 68bfacc7edb2983997415177f94dbba2
      size: 104700
    - path: reports/shap/shap_summary_bar.png
      hash: md5
      md5: cd8007c32ce9de972422901efe7822ad
      size: 44556
